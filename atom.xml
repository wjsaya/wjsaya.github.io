<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>wjsaya的博客</title>
  <subtitle>菜鸡运维的日常</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://wjsaya.github.io/"/>
  <updated>2017-07-19T09:09:48.086Z</updated>
  <id>https://wjsaya.github.io/</id>
  
  <author>
    <name>wjsaya</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>[python每日一练]--0007:代码统计</title>
    <link href="https://wjsaya.github.io/2017/07/19/python%E6%AF%8F%E6%97%A5%E4%B8%80%E7%BB%83/0007/"/>
    <id>https://wjsaya.github.io/2017/07/19/python每日一练/0007/</id>
    <published>2017-07-18T16:00:00.000Z</published>
    <updated>2017-07-19T09:09:48.086Z</updated>
    
    <content type="html"><![CDATA[<blockquote>
<p>题目链接：<a href="https://github.com/Show-Me-the-Code/show-me-the-code" target="_blank" rel="external">https://github.com/Show-Me-the-Code/show-me-the-code</a><br>我的github链接：<a href="https://github.com/wjsaya/python_spider_learn/tree/master/python_daily" target="_blank" rel="external">https://github.com/wjsaya/python_spider_learn/tree/master/python_daily</a><br>个人博客地址：<a href="https://wjsaya.github.io">https://wjsaya.github.io</a><br><strong>第 0007 题：</strong>有个目录，里面是你自己写过的程序，统计一下你写过多少行代码。包括空行和注释，但是要分别列出来。</p>
</blockquote>
<hr>
<p>思路：</p>
<ol>
<li>列出目录下所有py文件；</li>
<li>依次逐行读取py文件；</li>
<li>循环加判断，根据结果来更改数组的值，数组里就是统计结果。</li>
</ol>
<hr>
<p>代码：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div></pre></td><td class="code"><pre><div class="line">#!/usr/bin/env python3</div><div class="line">#coding: utf-8</div><div class="line">#Auther: wjsaya</div><div class="line">#**第 0007 题：**有个目录，里面是你自己写过的程序，统计一下你写过多少行代码。包括空行和注释，但是要分别列出来。</div><div class="line">import os</div><div class="line">import re</div><div class="line"></div><div class="line">def file_list(dir):</div><div class="line">    os.chdir(dir)</div><div class="line">    F_list = [ F for F in os.listdir(&quot;./&quot;) if os.path.splitext(F)[1]==&quot;.py&quot;]</div><div class="line">    for name in F_list:</div><div class="line">        result = word_count(name)</div><div class="line">        print (name+&quot;中，注释为&quot;+str(result[0])+&quot;行，空行为&quot;+str(result[1])+&quot;行，有效代码行数为&quot;+str(result[2]))</div><div class="line"></div><div class="line">def word_count(name):</div><div class="line">    count = [0, 0, 0]</div><div class="line">    #第一个为注释，第二个为空格，第三个为代码</div><div class="line">    file = open(name, &apos;r&apos;, encoding=&quot;utf-8&quot;).readlines()</div><div class="line">    for line in file:</div><div class="line">        if re.match(r&apos;[ ]*#&apos;, line):</div><div class="line">            count[0] += 1</div><div class="line">        elif re.match(r&apos;$&apos;, line):</div><div class="line">                count[1] += 1</div><div class="line">        else:</div><div class="line">            count[2] += 1</div><div class="line">    return count</div><div class="line"></div><div class="line">if __name__ == &quot;__main__&quot;: </div><div class="line">    #dir = input(&quot;输入代码目录:&quot;)</div><div class="line">    dir = &quot;code&quot;</div><div class="line">    file_list(dir)</div></pre></td></tr></table></figure>
<p>效果图：</p>
<p><img src="http://img.blog.csdn.net/20170719170508466?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvc2F5YV93ag==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"></p>
<hr>
<p>ps：懒癌发作的日常。。。离上一篇已经过去了10天233，慢慢来，不着急。。。<br>另外，我的个人博客是托管在最大的交友网站，不是，是最大的代码托管平台github上的，所以访问可能会有点慢ԅ(¯㉨¯ԅ)</p>
]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;题目链接：&lt;a href=&quot;https://github.com/Show-Me-the-Code/show-me-the-code&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://github.com/Show-M
    
    </summary>
    
    
      <category term="python" scheme="https://wjsaya.github.io/tags/python/"/>
    
  </entry>
  
  <entry>
    <title>windows 发布文章测试</title>
    <link href="https://wjsaya.github.io/2017/07/14/windows/"/>
    <id>https://wjsaya.github.io/2017/07/14/windows/</id>
    <published>2017-07-13T16:00:00.000Z</published>
    <updated>2017-07-14T07:57:20.746Z</updated>
    
    <summary type="html">
    
    </summary>
    
    
      <category term="随笔" scheme="https://wjsaya.github.io/tags/%E9%9A%8F%E7%AC%94/"/>
    
      <category term="windows" scheme="https://wjsaya.github.io/tags/windows/"/>
    
  </entry>
  
  <entry>
    <title>windows 发布文章测试</title>
    <link href="https://wjsaya.github.io/2017/07/14/test/"/>
    <id>https://wjsaya.github.io/2017/07/14/test/</id>
    <published>2017-07-13T16:00:00.000Z</published>
    <updated>2017-07-14T07:57:20.746Z</updated>
    
    <summary type="html">
    
    </summary>
    
    
      <category term="随笔" scheme="https://wjsaya.github.io/tags/%E9%9A%8F%E7%AC%94/"/>
    
      <category term="windows" scheme="https://wjsaya.github.io/tags/windows/"/>
    
  </entry>
  
  <entry>
    <title>[python每日一练]--0006:单词统计</title>
    <link href="https://wjsaya.github.io/2017/07/09/python%E6%AF%8F%E6%97%A5%E4%B8%80%E7%BB%83/0006/"/>
    <id>https://wjsaya.github.io/2017/07/09/python每日一练/0006/</id>
    <published>2017-07-08T16:00:00.000Z</published>
    <updated>2017-06-30T12:18:28.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote>
<p>题目链接：<a href="https://github.com/Show-Me-the-Code/show-me-the-code" target="_blank" rel="external">https://github.com/Show-Me-the-Code/show-me-the-code</a><br>我的github链接：<a href="https://github.com/wjsaya/python_spider_learn/tree/master/python_daily" target="_blank" rel="external">https://github.com/wjsaya/python_spider_learn/tree/master/python_daily</a><br><strong>第 0006 题：</strong>你有一个目录，放了你一个月的日记，都是 txt，为了避免分词的问题，假设内容都是英文，请统计出你认为每篇日记最重要的词。</p>
</blockquote>
<hr>
<p>思路：</p>
<ol>
<li>嘛。。。先读取出所有的词；<br>2.利用提取出来的词做一个字典，内容为“单词：出现次数”；</li>
<li>一个循环，读出字典内的最大值并提取相应的单词。</li>
</ol>
<hr>
<p>代码：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#coding: utf-8</span></div><div class="line"><span class="comment">#Auther: wjsaya</span></div><div class="line"><span class="comment">#**第 0006 题：**你有一个目录，放了你一个月的日记，都是 txt，为了避免分词的问题，假设内容都是英文，请统计出你认为每篇日记最重要的词。</span></div><div class="line"><span class="keyword">import</span> os</div><div class="line"><span class="keyword">import</span> re</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">dir</span><span class="params">()</span>:</span></div><div class="line"><span class="comment">#检测日志目录是否存在，不存在就创建</span></div><div class="line">    <span class="keyword">if</span> <span class="keyword">not</span> os.path.exists(<span class="string">"log"</span>):</div><div class="line">        os.mkdir(<span class="string">"./log"</span>)</div><div class="line">        <span class="keyword">print</span> (<span class="string">"log目录不存在，已创建"</span>)</div><div class="line">    os.chdir(<span class="string">"./log"</span>)</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">dective_words</span><span class="params">()</span>:</span></div><div class="line"><span class="comment">#检测文件内的单词,并且调用word_count来统计各个单词中出现频率最高的一个</span></div><div class="line">    <span class="keyword">for</span> file <span class="keyword">in</span> os.walk(<span class="string">"./"</span>):</div><div class="line">        <span class="keyword">print</span> (<span class="string">"当前目录为："</span>+os.getcwd())</div><div class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> file[<span class="number">2</span>]:</div><div class="line">            file = open(i, <span class="string">'r'</span>, encoding=<span class="string">"utf-8"</span>).read()</div><div class="line">            word_list = re.findall(<span class="string">'([a-zA-Z0-9]+)'</span>, file)</div><div class="line">            word_dict = word_count(word_list)</div><div class="line">            </div><div class="line">            max = <span class="number">0</span>                     </div><div class="line">            <span class="keyword">for</span> key <span class="keyword">in</span> word_dict.keys():</div><div class="line">                <span class="keyword">if</span> max &lt; int(word_dict.get(key)):</div><div class="line">                    max = word_dict.get(key)</div><div class="line">                    max_key = key</div><div class="line">            <span class="keyword">print</span> (<span class="string">"在"</span>+i+<span class="string">"中,最重要的词为："</span>+max_key+<span class="string">"，共出现了"</span>+str(max)+<span class="string">"次"</span>)    </div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">word_count</span><span class="params">(word_list)</span>:</span></div><div class="line"><span class="comment">#统计单词个数</span></div><div class="line">    word_dict=&#123;&#125;</div><div class="line">    frequency = <span class="number">1</span></div><div class="line">    <span class="keyword">for</span> single_word <span class="keyword">in</span> word_list:</div><div class="line">        <span class="keyword">try</span>:</div><div class="line">            number = word_dict.get(single_word)</div><div class="line">            word_dict[single_word]=number+<span class="number">1</span></div><div class="line">        <span class="keyword">except</span>:</div><div class="line">            word_dict[single_word]=frequency</div><div class="line">    <span class="keyword">return</span> word_dict</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</div><div class="line">    dir()</div><div class="line">    dective_words()</div></pre></td></tr></table></figure>
<p>效果图：</p>
<p><img src="http://img.blog.csdn.net/20170709222159415?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvc2F5YV93ag==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"></p>
<hr>
<p>ps：因为平时上班的原因（屁，就是懒癌发作233），也是很久未更新了，作为一只python小菜鸟，个人觉得有一个这种小的练手项目还是很棒棒的，作为一只只有C语言基础（真-基础）的菜鸡，让我独立搞个练手项目出来不现实，让我去啃基础感觉又没必要，毕竟我又不是程序员（屁，就是懒得看书233），于是·我能找到的一种方式就是找小题目来给自己做，嘛，反正是让自己入门，所以如果实现思路肯定是比不过学过算法的各位大佬的啦，慢慢来吧，归根结底，不就是个玩~ᕦ༼ ✖ ਊ ✖ ༽ᕤ</p>
]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;题目链接：&lt;a href=&quot;https://github.com/Show-Me-the-Code/show-me-the-code&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://github.com/Show-M
    
    </summary>
    
    
      <category term="python" scheme="https://wjsaya.github.io/tags/python/"/>
    
  </entry>
  
  <entry>
    <title>[python每日一练]--0003:统计文档内的单词个数并存放到redis数据库</title>
    <link href="https://wjsaya.github.io/2017/06/21/python%E6%AF%8F%E6%97%A5%E4%B8%80%E7%BB%83/0003/"/>
    <id>https://wjsaya.github.io/2017/06/21/python每日一练/0003/</id>
    <published>2017-06-20T16:00:00.000Z</published>
    <updated>2017-06-30T12:17:41.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote>
<p>题目链接：<a href="https://github.com/Show-Me-the-Code/show-me-the-code" target="_blank" rel="external">https://github.com/Show-Me-the-Code/show-me-the-code</a><br>我的github链接：<a href="https://github.com/wjsaya/python_spider_learn/tree/master/python_daily" target="_blank" rel="external">https://github.com/wjsaya/python_spider_learn/tree/master/python_daily</a><br><strong>第 0003 题：</strong>将 0001 题生成的 200 个激活码（或者优惠券）保存到 Redis 非关系型数据库中。</p>
</blockquote>
<hr>
<p>思路：</p>
<ol>
<li>循环，在count条件内调用length的循环来生成key。</li>
<li>内循环，length条件下随机生成一个字符并追加到code变量。</li>
<li>得到一个key之后，保存到redis数据库</li>
</ol>
<hr>
<p>代码：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div></pre></td><td class="code"><pre><div class="line">#coding: utf-8</div><div class="line">#**第 0003 题：**将 0001 题生成的 200 个激活码（或者优惠券）保存到 Redis 非关系型数据库中。</div><div class="line">#Auther: wjsaya</div><div class="line">from random import choice</div><div class="line">import string</div><div class="line">import redis</div><div class="line"></div><div class="line">def get_code(dict, length, count):</div><div class="line">#根据给定字典，长度来得出激活码</div><div class="line">    for i in range(1,int(count)+1):</div><div class="line">        code = &quot;&quot;</div><div class="line">    #通过count限制激活码个数，循环调用choice来计算激活码</div><div class="line">        for l in range(0,int(length)):</div><div class="line">            code = code+str(choice(dict))</div><div class="line">        save_to_redis(count, code)</div><div class="line"></div><div class="line">def save_to_redis(max, value):</div><div class="line">    #保存到redis数据库</div><div class="line">    redisdb = redis.Redis(host=&apos;10.2.2.131&apos;,port=6379,db=0)</div><div class="line">    redisdb.lpush(&apos;active_code&apos;,value)</div><div class="line">    redisdb.lrange(&apos;active_code&apos;,0,max)</div><div class="line">    redisdb.save()</div><div class="line"></div><div class="line"></div><div class="line">if __name__ == &quot;__main__&quot;:</div><div class="line">    dict = string.ascii_letters[:]</div><div class="line">    #设定字典为&apos;abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ&apos;</div><div class="line">    count = input(&quot;请输入激活码个数：&quot;)</div><div class="line">    if count == &quot;&quot;:</div><div class="line">        count = &quot;1&quot;</div><div class="line">    length = input(&quot;请输入激活码长度：&quot;)</div><div class="line">    if length == &quot;&quot;:</div><div class="line">        length = &quot;8&quot;</div><div class="line">    get_code(dict, length, count)</div></pre></td></tr></table></figure>
<p><img src="http://img.blog.csdn.net/20170621152344466?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvc2F5YV93ag==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"></p>
<p><img src="http://img.blog.csdn.net/20170621152359341?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvc2F5YV93ag==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"></p>
]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;题目链接：&lt;a href=&quot;https://github.com/Show-Me-the-Code/show-me-the-code&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://github.com/Show-M
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>[python每日一练]--0005:把图片大小控制在iphone5的分辨率以下</title>
    <link href="https://wjsaya.github.io/2017/06/21/python%E6%AF%8F%E6%97%A5%E4%B8%80%E7%BB%83/0005/"/>
    <id>https://wjsaya.github.io/2017/06/21/python每日一练/0005/</id>
    <published>2017-06-20T16:00:00.000Z</published>
    <updated>2017-06-30T12:17:58.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote>
<p>题目链接：<a href="https://github.com/Show-Me-the-Code/show-me-the-code" target="_blank" rel="external">https://github.com/Show-Me-the-Code/show-me-the-code</a><br>我的github链接：<a href="https://github.com/wjsaya/python_spider_learn/tree/master/python_daily" target="_blank" rel="external">https://github.com/wjsaya/python_spider_learn/tree/master/python_daily</a><br><strong>第 0005 题：</strong>你有一个目录，装了很多照片，把它们的尺寸变成都不大于 iPhone5 分辨率的大小。</p>
</blockquote>
<hr>
<p>思路：</p>
<ol>
<li>通过OS库的listdir列出所有图片；</li>
<li>然后通过PIL库的Image.open打开图片并获取图片大小；</li>
<li>最后进入一个死循环：通过PIL库的Image.resize来缩小图片为原图片的90%，直到图片大小小于iphone5的分辨率大小，退出循环。</li>
</ol>
<hr>
<p>代码：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line">#coding: utf-8</div><div class="line">#Auther: wjsaya</div><div class="line">#**第 0005 题：**你有一个目录，装了很多照片，把它们的尺寸变成都不大于 iPhone5 分辨率的大小。</div><div class="line">import os</div><div class="line">from PIL import Image</div><div class="line"></div><div class="line">def image_small(dir1, dir2):</div><div class="line">    list = os.listdir(dir1)</div><div class="line">    for i in list:</div><div class="line">        image = Image.open(dir1+&apos;/&apos;+i)</div><div class="line">        while True:</div><div class="line">            h,w = image.size</div><div class="line">            #获取图片原始大小,然后进死循环，不停缩小图片为原来的90%，直到大小缩小为iphone5所支持的分辨率。</div><div class="line">            if h &lt; 1136:</div><div class="line">            #iphone5分辨率为1136x640</div><div class="line">                if w &lt; 640:</div><div class="line">                    break</div><div class="line">            image = image.resize((int(h*0.9),int(w*0.9)))</div><div class="line">        image.save(dir2+&apos;/&apos;+i)</div><div class="line">        print (dir1+&apos;/&apos;+i+&quot;已处理，保存为：&quot;+dir2+&apos;/&apos;+i)</div><div class="line"></div><div class="line"></div><div class="line">if __name__ == &quot;__main__&quot;:</div><div class="line">    dir1 = input(&quot;缩小前图片存放目录为：&quot;)</div><div class="line">    dir2 = input(&quot;缩小后图片存放目录为：&quot;)</div><div class="line">    try:</div><div class="line">        os.mkdir(dir2)</div><div class="line">    except Exception:</div><div class="line">        print (Exception)</div><div class="line">    image_small(dir1, dir2)</div></pre></td></tr></table></figure>
<p><img src="http://img.blog.csdn.net/20170621161852141?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvc2F5YV93ag==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"></p>
<p><img src="http://img.blog.csdn.net/20170621161903768?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvc2F5YV93ag==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"></p>
]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;题目链接：&lt;a href=&quot;https://github.com/Show-Me-the-Code/show-me-the-code&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://github.com/Show-M
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>[python每日一练]--0002:生成激活码并存储到mysql数据库</title>
    <link href="https://wjsaya.github.io/2017/06/19/python%E6%AF%8F%E6%97%A5%E4%B8%80%E7%BB%83/0002/"/>
    <id>https://wjsaya.github.io/2017/06/19/python每日一练/0002/</id>
    <published>2017-06-18T16:00:00.000Z</published>
    <updated>2017-06-30T12:17:34.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote>
<p>题目链接：<a href="https://github.com/Show-Me-the-Code/show-me-the-code" target="_blank" rel="external">https://github.com/Show-Me-the-Code/show-me-the-code</a><br>我的github链接：<a href="https://github.com/wjsaya/python_spider_learn/tree/master/python_daily" target="_blank" rel="external">https://github.com/wjsaya/python_spider_learn/tree/master/python_daily</a><br>第 0002 题：将 0001 题生成的 200 个激活码（或者优惠券）保存到 MySQL 关系型数据库中。</p>
</blockquote>
<hr>
<p>思路：</p>
<ol>
<li>循环，在count条件内调用length的循环来生成key。</li>
<li>内循环，length条件下随机生成一个字符并追加到code变量。</li>
<li>得到一个key之后，保存到mysql数据库</li>
</ol>
<hr>
<p>代码：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div></pre></td><td class="code"><pre><div class="line">#coding: utf-8</div><div class="line">#第 0002 题：将 0001 题生成的 200 个激活码（或者优惠券）保存到 MySQL 关系型数据库中。</div><div class="line">#Auther: wjsaya</div><div class="line">from random import choice</div><div class="line">import string</div><div class="line">import pymysql.cursors</div><div class="line"></div><div class="line">def get_code(dict, length, count):</div><div class="line">#根据给定字典，长度来得出激活码</div><div class="line">    for i in range(1,int(count)+1):</div><div class="line">        code = &quot;&quot;</div><div class="line">    #通过count限制激活码个数，循环调用choice来计算激活码</div><div class="line">        for l in range(0,int(length)):</div><div class="line">            code = code+str(choice(dict))</div><div class="line">        save_to_mysql(i, code)</div><div class="line"></div><div class="line">def save_to_mysql(id, code):</div><div class="line">#保存到mysql数据库</div><div class="line">    host = (&quot;192.168.122.18&quot;)</div><div class="line">    user = (&quot;root&quot;)</div><div class="line">    pass_ = (&quot;123qwe&quot;)</div><div class="line">    db = (&quot;active&quot;)</div><div class="line">    #设置数据库连接相关信息</div><div class="line">    connect = pymysql.connect(host, user, pass_, db)</div><div class="line">    cursor = connect.cursor()</div><div class="line">    #链接数据库并设置游标</div><div class="line">    sql = &quot;insert into activeCode(id, code) VALUES (&apos;%d&apos;, &apos;%s&apos;)&quot;</div><div class="line">    data = (id, code)</div><div class="line">    cursor.execute(sql % data)</div><div class="line">    #执行sql语句</div><div class="line"></div><div class="line">if __name__ == &quot;__main__&quot;:</div><div class="line">     dict = string.ascii_letters[:]</div><div class="line">    #设定字典为&apos;abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ&apos;</div><div class="line">    count = input(&quot;请输入激活码个数：&quot;)</div><div class="line">    if count == &quot;&quot;:</div><div class="line">        count = &quot;1&quot;</div><div class="line">    length = input(&quot;请输入激活码长度：&quot;)</div><div class="line">    if length == &quot;&quot;:</div><div class="line">        length = &quot;8&quot;</div><div class="line">    get_code(dict, length, count)</div></pre></td></tr></table></figure></p>
<p>运行结果：<br><img src="http://img.blog.csdn.net/20170619150201633?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvc2F5YV93ag==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="运行截图"></p>
<p><img src="http://img.blog.csdn.net/20170619150230493?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvc2F5YV93ag==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="结果截图"></p>
]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;题目链接：&lt;a href=&quot;https://github.com/Show-Me-the-Code/show-me-the-code&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://github.com/Show-M
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>[python每日一练]--0004:统计文档内的单词个数</title>
    <link href="https://wjsaya.github.io/2017/06/19/python%E6%AF%8F%E6%97%A5%E4%B8%80%E7%BB%83/0004/"/>
    <id>https://wjsaya.github.io/2017/06/19/python每日一练/0004/</id>
    <published>2017-06-18T16:00:00.000Z</published>
    <updated>2017-07-17T01:29:02.859Z</updated>
    
    <content type="html"><![CDATA[<blockquote>
<p>题目链接：<a href="https://github.com/Show-Me-the-Code/show-me-the-code" target="_blank" rel="external">https://github.com/Show-Me-the-Code/show-me-the-code</a><br>我的github链接：<a href="https://github.com/wjsaya/python_spider_learn/tree/master/python_daily" target="_blank" rel="external">https://github.com/wjsaya/python_spider_learn/tree/master/python_daily</a><br><strong>第 0004 题：</strong>任一个英文的纯文本文件，统计其中的单词出现的个数。</p>
</blockquote>
<hr>
<p>思路：</p>
<ol>
<li>打开文件</li>
<li>利用re模块的findall方法返回为数组的特性，匹配单个单词</li>
<li>统计findall方法返回的数组长度即可。</li>
</ol>
<hr>
<p>代码：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">#coding: utf-8</div><div class="line">#Auther: wjsaya</div><div class="line">#**第 0004 题：**任一个英文的纯文本文件，统计其中的单词出现的个数。</div><div class="line">import re</div><div class="line"></div><div class="line">def file_open(filename):</div><div class="line">    f = open(filename, &apos;r&apos;).read()</div><div class="line">    #打开文件</div><div class="line">    ff = re.findall(&apos;([a-zA-Z0-9]+)&apos;, f)</div><div class="line">    #正则匹配，组内为大小写字母加数字，后面限定位数为一位以上</div><div class="line">    print (ff)</div><div class="line">    print (len(ff))</div><div class="line"></div><div class="line">if __name__ == &quot;__main__&quot;:</div><div class="line">    file = input(&quot;将要统计的文件为:&quot;)</div><div class="line">    file_open(file)</div><div class="line"></div><div class="line"></div><div class="line">根据re模块的findall查找大小写字母加数字，且为1位以上的字符串。因为fingall返回的为数组，因此直接len即可得出个数。</div></pre></td></tr></table></figure>
<p><img src="http://img.blog.csdn.net/20170619152836527?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvc2F5YV93ag==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="运行截图"></p>
]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;题目链接：&lt;a href=&quot;https://github.com/Show-Me-the-Code/show-me-the-code&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://github.com/Show-M
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>[python每日一练]--0001:生成激活码</title>
    <link href="https://wjsaya.github.io/2017/06/16/python%E6%AF%8F%E6%97%A5%E4%B8%80%E7%BB%83/0001/"/>
    <id>https://wjsaya.github.io/2017/06/16/python每日一练/0001/</id>
    <published>2017-06-15T16:00:00.000Z</published>
    <updated>2017-06-30T12:17:23.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote>
<p>题目链接：<a href="https://github.com/Show-Me-the-Code/show-me-the-code" target="_blank" rel="external">https://github.com/Show-Me-the-Code/show-me-the-code</a><br>我的github链接：<a href="https://github.com/wjsaya/python_spider_learn/tree/master/python_daily" target="_blank" rel="external">https://github.com/wjsaya/python_spider_learn/tree/master/python_daily</a><br>第 0001 题：做为 Apple Store App 独立开发者，你要搞限时促销，为你的应用生成激活码（或者优惠券），使用 Python 如何生成 200 个激活码（或者优惠券）？</p>
</blockquote>
<hr>
<p>思路：</p>
<ol>
<li>循环，在count条件内调用length的循环来生成key。</li>
<li>内循环，length条件下随机生成一个字符并追加到code变量。</li>
<li>得到一个key之后，保存到文件</li>
</ol>
<hr>
<p>代码：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div></pre></td><td class="code"><pre><div class="line">#coding: utf-8</div><div class="line">#第 0001 题：做为 Apple Store App 独立开发者，你要搞限时促销，为你的应用生成激活码（或者优惠券），使用 Python 如何生成 200 个激活码（或者优惠券）</div><div class="line">#Auther: wjsaya</div><div class="line">from random import choice</div><div class="line">import string</div><div class="line">import os</div><div class="line"></div><div class="line">def main():</div><div class="line">    if os.path.exists(&quot;./activecode.code&quot;):</div><div class="line">        print (&quot;已经存在activecode.code文件，已经删除&quot;)</div><div class="line">        os.remove(&quot;./activecode.code&quot;)</div><div class="line"></div><div class="line">    dict = string.ascii_letters[:]</div><div class="line">    #设定字典为&apos;abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ&apos;</div><div class="line">    count = input(&quot;请输入激活码个数：&quot;)</div><div class="line">    if count == &quot;&quot;:</div><div class="line">        count = &quot;1&quot;</div><div class="line">    </div><div class="line">    length = input(&quot;请输入激活码长度：&quot;)</div><div class="line">    if length == &quot;&quot;:</div><div class="line">        length = &quot;8&quot;</div><div class="line">   </div><div class="line">    for i in range(0,int(count)):</div><div class="line">        code = get_code(dict, length)</div><div class="line">        with open (&apos;activecode.code&apos;, &apos;a+&apos;) as f:</div><div class="line">            f.write(code+&apos;\n&apos;)</div><div class="line">    #通过count限制激活码个数，循环调用get_code来计算激活码 </div><div class="line"></div><div class="line">def get_code(dict, length):</div><div class="line">    #根据给定字典，长度来得出激活码</div><div class="line">    code = &quot;&quot;</div><div class="line">    for i in range(0,int(length)):</div><div class="line">        code = code+str(choice(dict))</div><div class="line">    return code</div><div class="line"> </div><div class="line"></div><div class="line">if __name__ == &quot;__main__&quot;:</div><div class="line">    main()</div></pre></td></tr></table></figure>
<p>效果图：<br><img src="http://img.blog.csdn.net/20170616174126974?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvc2F5YV93ag==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="效果图"></p>
]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;题目链接：&lt;a href=&quot;https://github.com/Show-Me-the-Code/show-me-the-code&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://github.com/Show-M
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>[python每日一练]--0000:图片添加数字</title>
    <link href="https://wjsaya.github.io/2017/06/16/python%E6%AF%8F%E6%97%A5%E4%B8%80%E7%BB%83/0000/"/>
    <id>https://wjsaya.github.io/2017/06/16/python每日一练/0000/</id>
    <published>2017-06-15T16:00:00.000Z</published>
    <updated>2017-06-30T12:16:55.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote>
<p>题目链接：<a href="https://github.com/Show-Me-the-Code/show-me-the-code" target="_blank" rel="external">https://github.com/Show-Me-the-Code/show-me-the-code</a><br>我的github链接：<a href="https://github.com/wjsaya/python_spider_learn/tree/master/python_daily" target="_blank" rel="external">https://github.com/wjsaya/python_spider_learn/tree/master/python_daily</a><br><strong>第 0000 题：</strong>将你的 QQ 头像（或者微博头像）右上角加上红色的数字，类似于微信未读信息数量那种提示效果。 类似于图中效果<br><img src="https://camo.githubusercontent.com/d518d3929e4054ce2f9183b23e52908da7e5632d/687474703a2f2f692e696d6775722e636f6d2f736732646b75592e706e673f31" alt="这里写图片描述"></p>
</blockquote>
<hr>
<p>思路：</p>
<ol>
<li>PIL的Image.open打开图片。</li>
<li>获取图片大小。</li>
<li>调用ImageDraw，在图拍呢的指定位置写下数字。</li>
</ol>
<hr>
<p>代码：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line">#coding: utf-8</div><div class="line">#Auther: wjsaya</div><div class="line">#**第 0000 题：**将你的 QQ 头像（或者微博头像）右上角加上红色的数字，类似于微信未读信息数量那种提示效果。 类似于图中效果</div><div class="line">from PIL import Image,ImageFont,ImageDraw</div><div class="line">def main():</div><div class="line">    image = Image.open(&apos;./cat.jpg&apos;)</div><div class="line">    #打开原图</div><div class="line"></div><div class="line">    wight, hight = image.size</div><div class="line">    text = &quot;233&quot;</div><div class="line">    color = (255,0,0)</div><div class="line">    fontsize = wight//8</div><div class="line">    font = ImageFont.truetype(&quot;/usr/share/fonts/wps-office/arial.ttf&quot;,fontsize)</div><div class="line">    #设定参数</div><div class="line"></div><div class="line">    draw = ImageDraw.Draw(image)</div><div class="line">    draw.text((fontsize*6,0), text, color, font)</div><div class="line">    image.save(&apos;./c.jpg&apos;, &apos;jpeg&apos;)</div><div class="line">    #保存图片</div><div class="line"></div><div class="line">if __name__ == &quot;__main__&quot;:</div><div class="line">    main()</div></pre></td></tr></table></figure>
<p>原图：<br><img src="http://img.blog.csdn.net/20170616170044605?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvc2F5YV93ag==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="原图"></p>
<p>添加后：<br><img src="http://img.blog.csdn.net/20170616170123575?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvc2F5YV93ag==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="添加后"></p>
]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;题目链接：&lt;a href=&quot;https://github.com/Show-Me-the-Code/show-me-the-code&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://github.com/Show-M
    
    </summary>
    
    
  </entry>
  
</feed>
